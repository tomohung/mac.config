""" Map leader to space ---------------------
let mapleader=" "

""" Plugins  --------------------------------
set surround
set commentary
set NERDTree
set easymotion
set matchit
" set multiple-cursors

""" Plugin settings -------------------------

""" Common settings -------------------------
set showmode
set scrolloff=1
set hlsearch
set incsearch
set number "relativenumber
set ignorecase " case insensitive"
set smartcase " case insensitive, only sensitive when first char is capital, and only used when igorenocase is on
set gdefault " the :substitute flag 'g' is by default
set clipboard+=unnamed

""" Idea specific settings ------------------
set ideajoin
" set ideastatusicon=gray
" set idearefactormode=keep

""" Mappings --------------------------------
" https://github.com/tomohung/mac.config/blob/master/ideavim_actionlist
nnoremap <leader>gb :action Annotate<CR>
vnoremap <leader>gb :action Annotate<CR>

nnoremap <leader>cf :action CopyContentRootPath<CR>
vnoremap <leader>cf :action CopyContentRootPath<CR>

nnoremap <leader>cn :action CopyPathWithLineNumber<CR>
vnoremap <leader>cn :action CopyPathWithLineNumber<CR>


nnoremap <leader>e :action SelectInProjectView<CR>
vnoremap <leader>e :action SelectInProjectView<CR>


nnoremap <leader>tt :action GotoTest<CR>
vnoremap <leader>tt :action GotoTest<CR>

nnoremap <leader>tr :action GotoRelated<CR>
vnoremap <leader>tr :action GotoRelated<CR>

nnoremap <leader>tm :action MoveEditorToOppositeTabGroup<CR>
vnoremap <leader>tm :action MoveEditorToOppositeTabGroup<CR>

nnoremap <leader>gh :action Github.Open.In.Browser<CR>
vnoremap <leader>gh :action Github.Open.In.Browser<CR>

nnoremap <leader>tl :action Rerun<CR>
vnoremap <leader>tl :action Rerun<CR>

nnoremap <leader>tn :action RunClass<CR>
vnoremap <leader>tn :action RunClass<CR>

nnoremap <leader>tf gg :action RunClass<CR>
vnoremap <leader>tf gg :action RunClass<CR>

nnoremap <leader>dd :action DebugClass<CR>
vnoremap <leader>dd :action DebugClass<CR>

nnoremap <leader>dm :action ToggleLineBreakpoint<CR>
vnoremap <leader>dm :action ToggleLineBreakpoint<CR>

nnoremap <leader>no :<C-u>nohlsearch<CR>

nnoremap <leader>= :action ReformatCode<CR>
vnoremap <leader>= :action ReformatCode<CR>

nnoremap <leader>/  yiw :action FindInPath<CR>
vnoremap <leader>/  :action FindInPath<CR>

nnoremap <leader><Tab> <C-S-6>
vnoremap <leader><Tab> <Esc><C-S-6>

nnoremap <C-p> :action GotoFile<CR>
vnoremap <C-p> :action GotoFile<CR>

nnoremap <C-b> :action RecentFiles<CR>
vnoremap <C-b> :action RecentFiles<CR>

nnoremap <C-h> :action PrevSplitter<CR>
vnoremap <C-h> :action PrevSplitter<CR>

nnoremap <C-l> :action NextSplitter<CR>
vnoremap <C-l> :action NextSplitter<CR>

nnoremap ]<space>    o<Esc>k
vnoremap ]<space>    <Esc>o<Esc>k
nnoremap [<space>    O<Esc>
vnoremap [<space>    <Esc>O<Esc>
:nnoremap <silent> gr "_yiw:s/\(\%#\w\+\)\(\_W\+\)\(\w\+\)/\3\2\1/<CR><c-o>/\w\+\_W\+<CR><c-l>:nohlsearch<CR>

" insert mode move to begin/end
inoremap <C-a> <ESC>I
inoremap <C-e> <ESC>A

nnoremap <leader>'    :action ActivateTerminalToolWindow<CR>
vnoremap <leader>'    :action ActivateTerminalToolWindow<CR>

nnoremap <leader>R :action Refactorings.QuickListPopupAction<CR>
vnoremap <leader>R :action Refactorings.QuickListPopupAction<CR>
nnoremap <leader>rn :action RenameElement<CR>
vnoremap <leader>rn :action RenameElement<CR>

nnoremap <leader>rv :action IntroduceVariable<CR><ESC>
vnoremap <leader>rv :action IntroduceVariable<CR><ESC>
nnoremap <leader>rc :action IntroduceConstant<CR><ESC>
vnoremap <leader>rc :action IntroduceConstant<CR><ESC>
nnoremap <leader>rf :action IntroduceField<CR><ESC>
vnoremap <leader>rf :action IntroduceField<CR><ESC>
nnoremap <leader>rp :action IntroduceParameter<CR><ESC>
vnoremap <leader>rp :action IntroduceParameter<CR><ESC>
nnoremap <leader>rm :action ExtractMethod<CR><ESC>
vnoremap <leader>rm :action ExtractMethod<CR><ESC>
nnoremap <leader>rM :action ExtractModule<CR><ESC>
vnoremap <leader>rM :action ExtractModule<CR><ESC>
nnoremap <leader>rC :action ExtractClass<CR><ESC>
vnoremap <leader>rC :action ExtractClass<CR><ESC>
nnoremap <leader>rl :action rspec.LetIntroduce<CR><ESC>
vnoremap <leader>rl :action rspec.LetIntroduce<CR><ESC>
nnoremap <leader>fm :action Move<CR>
vnoremap <leader>fm :action Move<CR>
nnoremap <leader>fc :action CopyElement<CR>
vnoremap <leader>fc :action CopyElement<CR>
